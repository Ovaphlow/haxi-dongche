<!doctype html>
<html lang="zh">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>哈尔滨动车段 - 账项管理系统</title>

  <link rel="stylesheet" href="./lib/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="./lib/font-awesome/css/font-awesome.min.css">

  <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>
  <div id="navbar"></div>

  <div class="container-fluid">
    <h3>
      账项管理系统
      <span class="float-right">02.一体化作业申请单</span>
    </h3>
    <hr>
  </div>

  <div class="container-fluid" id="app">
    <div class="row">
      <div class="col-xs-12 col-3 col-xl-2" id="sidebar"></div>

      <div class="col-xs-12 col-9 col-xl-10">
        <div id="toolbar"></div>
        <p class="lead">
          <i class="fa fa-plus"></i>
          新增申请
          <button type="button" class="btn btn-outline-info btn-sm" onclick="location.reload(true)">
            <i class="fa fa-refresh"></i>
            刷新
          </button>
        </p>
        <hr>

        <div class="card">
          <div class="card-body row">
            <div class="col-6">
              <div class="form-group">
                <label>普查项目</label>
                <input type="text" class="form-control" v-model="journal0.subject">
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label>批准文件号</label>
                <input type="text" class="form-control" v-model="journal0.approval_sn">
              </div>
            </div>

            <div class="clearfix"></div>

            <div class="col-6">
              <div class="form-group">
                <label>实施普查车组</label>
                <input type="text" class="form-control" v-model="journal0.train_sn">
              </div>
            </div>
            <div class="col-6">
              <div class="form-group">
                <label>实施普查日期</label>
                <input type="date" class="form-control" v-model="journal0.date">
              </div>
            </div>

            <div class="clearfix"></div>

            <div class="col-12">
              <button type="button" class="btn btn-secondary" v-on:click="plus">
                <i class="fa fa-plus"></i>
                新增记录
              </button>
              <div class="btn-group pull-right">
                <button type="button" class="btn btn-primary" v-on:click="save">
                  <i class="fa fa-save"></i>
                  保存记录单
                </button>
              </div>
            </div>

            <div class="col-12">
              <ul id="list" class="list-group">
                <li class="list-group-item" v-for="item in contentList">
                  <h5>
                    车厢号：{{ item.carriage }}
                    <span class="pull-right">{{ item.carriage_subject }}</span>
                  </h5>

                  <ul class="list-inline">
                    <li class="list-inline-item"> 开工时间：{{ item.time_begin }}</li>
                    <li class="list-inline-item"> 完工时间：{{ item.time_end }}</li>
                    <li class="list-inline-item">检查结果：{{ item.result }}</li>
                    <li class="list-inline-item">故障及处理情况：{{ item.report }}</li>
                  </ul>

                  <ul class="list-inline">
                    <li class="list-inline-item">实施单位：{{ item.dept }}</li>
                    <li class="list-inline-item">实施者：{{ item.executor }}</li>
                    <li class="list-inline-item">动车所现场监控人：{{ item.watcher }}</li>
                    <li class="list-inline-item">监控班组：{{ item.watcher_group }}</li>
                    <li class="list-inline-item">质检员：{{ item.qc }}</li>
                    <li class="list-inline-item">备注：{{ item.remark }}</li>
                  </ul>

                  <div class="clearfix"></div>

                  <div class="btn-group pull-right mt-3">
                    <button type="button" class="btn btn-light" v-bind:data-id="item.id" v-on:click="remove">
                      <i class="fa fa-trash"></i>
                      删除
                    </button>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="save" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="title" aria-hidden="true" style="font-size:0.875em">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 id="title" class="modal-title">新增记录</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body row">
            <div class="col-4 form-group">
              <label>实施普查的车厢号</label>
              <select class="form-control form-control-sm" v-model="journal.carriage">
                <option value="01">01</option>
                <option value="02">02</option>
                <option value="03">03</option>
                <option value="04">04</option>
                <option value="05">05</option>
                <option value="06">06</option>
                <option value="07">07</option>
                <option value="08">08</option>
              </select>
            </div>
            <div class="col-8 form-group">
              <label>具体项点</label>
              <input type="text" class="form-control form-control-sm" v-model="journal.carriage_subject">
            </div>

            <div class="clearfix"></div>

            <div class="col-4 form-group">
              <label>开工时间</label>
              <input type="text" class="form-control form-control-sm" v-model="journal.time_begin">
            </div>
            <div class="col-4 form-group">
              <label>完工时间</label>
              <input type="text" class="form-control form-control-sm" v-model="journal.time_end">
            </div>
            <div class="col-4 form-group">
              <label>检查结果</label>
              <select class="form-control form-control-sm" v-model="journal.result">
                <option value="良好">良好</option>
                <option value="异常">异常</option>
              </select>
            </div>

            <div class="clearfix"></div>

            <div class="col-12 form-group">
              <label>故障及处理情况</label>
              <input type="text" class="form-control form-control-sm" v-model="journal.report">
            </div>

            <div class="col-6 form-group">
              <label>实施单位</label>
              <input type="text" class="form-control form-control-sm" v-model="journal.dept">
            </div>
            <div class="col-6 form-group">
              <label>实施者</label>
              <input type="text" class="form-control form-control-sm" v-model="journal.executor">
            </div>

            <div class="clearfix"></div>

            <div class="col-3 form-group">
              <label>动车所现场监控人</label>
              <input type="text" class="form-control form-control-sm" v-model="journal.watcher">
            </div>
            <div class="col-6 form-group">
              <label>监控班组</label>
              <input type="text" class="form-control form-control-sm" v-model="journal.watcher_group">
            </div>
            <div class="col-3 form-group">
              <label>质检员</label>
              <input type="text" class="form-control form-control-sm" v-model="journal.qc">
            </div>

            <div class="clearfix"></div>

            <div class="col-12 form-group">
              <label>备注</label>
              <textarea rows="2" class="form-control form-control-sm" v-model="journal.remark"></textarea>
            </div>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-primary" v-on:click="submit">
              <i class="fa fa-check-square-o"></i>
              确认
            </button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="./lib/axios/dist/axios.min.js"></script>
  <script src="./lib/vue/dist/vue.js"></script>
  <script src="./lib/moment/min/moment.min.js"></script>
  <script src="./lib/jquery/dist/jquery.slim.min.js"></script>
  <script src="./lib/popper.js/dist/umd/popper.min.js"></script>
  <script src="./lib/bootstrap/dist/js/bootstrap.min.js"></script>

  <script src="./assets/js/journal.02-save.01.js"></script>
</body>

</html>