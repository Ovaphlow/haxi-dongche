<!doctype html>
<html lang="zh">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>哈尔滨动车段 - 账项管理系统</title>

  <link rel="stylesheet" href="./lib/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="./lib/font-awesome/css/font-awesome.min.css">

  <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>
  <div id="navbar"></div>

  <div class="container-fluid">
    <h3>
      账项管理系统
      <span class="float-right">02.一体化作业申请单</span>
    </h3>
    <hr>
  </div>

  <div class="container-fluid" id="app">
    <div class="row">
      <div class="col-xs-12 col-3 col-xl-2" id="sidebar"></div>

      <div class="col-xs-12 col-9 col-xl-10">
        <div id="toolbar"></div>

        <p class="lead">
          <i class="fa fa-archive"></i>
          作业完成销记
          <button type="button" class="btn btn-outline-info btn-sm" onclick="location.reload(true)">
            <i class="fa fa-refresh"></i>
            刷新
          </button>
        </p>
        <hr>

        <div class="card">
          <div class="card-body row">
            <div class="col-12">
              <p class="lead">动车组一般配件更换记录表</p>
            </div>

            <div class="col-12">
              <button type="button" class="btn btn-secondary" v-on:click="plus">
                <i class="fa fa-plus"></i>
                新增记录
              </button>
              <button type="button" class="btn btn-primary pull-right" v-on:click="fin">
                <i class="fa fa-check"></i>
                完成
              </button>
            </div>

            <div class="col-12">
              <ul id="list" class="list-group">
                <li class="list-group-item" v-for="item in list">
                  <h5>
                    <span class="text-secondary">部件名称：</span>{{ item.name }}
                    <span class="pull-right">
                      <span class="text-secondary">车组：</span>
                      {{ item.train }}
                    </span>
                  </h5>

                  <ul class="list-inline">
                    <li class="list-inline-item">
                      <span class="text-secondary">车号：</span>
                      <span class="text-primary">{{ item.carriage }}</span>
                    </li>
                    <li class="list-inline-item">
                      <span class="text-secondary">位置：</span>
                      <span class="text-info">{{ item.position }}</span>
                    </li>
                    <li class="list-inline-item">
                      <span class="text-secondary">日期：</span>
                      <span class="text-secondary">{{ item.date }}</span>
                    </li>
                    <li class="list-inline-item">
                      <span class="text-secondary">时间：</span>
                      <span class="text-secondary">{{ item.time }}</span>
                    </li>
                  </ul>

                  <ul class="list-inline">
                    <li class="list-inline-item">
                      <span class="text-secondary">更换原因：</span>
                      <span class="text-danger">{{ item.reason }}</span></li>
                  </ul>

                  <ul class="list-inline">
                    <li class="list-inline-item">
                     <span class="text-secondary">作业人员已阅读工艺文件并掌握各步骤：</span>
                      <strong>{{ item.p_gywj ? '是' : '否' }}</strong>
                    </li>
                    <li class="list-inline-item">
                      <span class="text-secondary">力矩扳手已校验：</span>
                      <strong>{{ item.p_ljbs ? '是' : '否' }}</strong>
                    </li>
                    <li class="list-inline-item">
                      <span class="text-secondary">换下部件序列号：</span>
                      <span class="text-info">{{ item.component_sn_old }}</span>
                    </li>
                    <li class="list-inline-item">
                      <span class="text-secondary">换上部件序列号：</span>
                      <span class="text-info">{{ item.component_sn_new }}</span>
                    </li>
                    <li class="list-inline-item">
                      <span class="text-secondary">部件安装良好，螺栓力矩已紧固，防松标记已涂打：</span>
                      <strong>{{ item.p_bjaz ? '是' : '否' }}</strong>
                    </li>
                    <li class="list-inline-item">
                      <span class="text-secondary">作业者：</span>
                      <u>{{ item.operator }}</u>
                    </li>
                    <li class="list-inline-item">
                      <span class="text-secondary">检修工长：</span>
                      <u>{{ item.leader }}</u>
                    </li>
                  </ul>

                  <ul class="list-inline">
                    <li class="list-inline-item">
                      <span class="text-secondary">部件功能试验正常：</span>
                      <strong>{{ item.p_bjgnsy ? '是' : '否' }}</strong></li>
                    <li class="list-inline-item">
                      <span class="text-secondary">质检员：</span>
                      <u>{{ item.qc }}</u></li>
                    <li class="list-inline-item">
                      <span class="text-secondary">值班干部：</span>
                      <u>{{ item.duty_officer }}</u></li>
                  </ul>

                  <div class="clearfix"></div>

                  <div class="btn-group pull-right mt-3">
                    <button type="button" class="btn btn-light" v-bind:data-id="item.id" v-on:click="remove">
                      <i class="fa fa-trash"></i>
                      删除
                    </button>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="save" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="title" aria-hidden="true" style="font-size:0.875em">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 id="title" class="modal-title">新增记录</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body row">
            <div class="form-group col-4">
              <label>部件名称</label>
              <input type="text" class="form-control" v-model="journal.name">
            </div>
            <div class="form-group col-2">
              <label>车组</label>
              <input type="text" class="form-control" v-model="journal.train">
            </div>
            <div class="form-group col-2">
              <label>车号</label>
              <input type="text" class="form-control" v-model="journal.carriage">
            </div>
            <div class="form-group col-4">
              <label>位置</label>
              <input type="text" class="form-control" v-model="journal.position">
            </div>

            <div class="clearfix"></div>

            <div class="form-group col-3">
              <label>日期</label>
              <input type="date" class="form-control" v-model="journal.date">
            </div>
            <div class="form-group col-3">
              <label>时间</label>
              <input type="text" class="form-control" v-model="journal.time">
            </div>
            <div class="form-group col-6">
              <label>更换原因</label>
              <input type="text" class="form-control" v-model="journal.reason">
            </div>

            <div class="clearflx"></div>

            <div class="form-group col-3">
              <label>工艺文件及各步骤</label>
              <select class="form-control" v-model="journal.p_gywj">
                <option value="1">已阅读并掌握</option>
                <option value="0">未阅读并掌握</option>
              </select>
            </div>
            <div class="form-group col-3">
              <label>力矩扳手</label>
              <select class="form-control" v-model="journal.p_ljbs">
                <option value="1">已校验</option>
                <option value="0">未校验</option>
              </select>
            </div>
            <div class="col-3 form-group">
              <label>换下部件序列号</label>
              <input type="text" class="form-control" v-model="journal.component_sn_old">
            </div>
            <div class="col-3 form-group">
              <label>换上部件序列号</label>
              <input type="text" class="form-control" v-model="journal.component_sn_new">
            </div>

            <div class="clearfix"></div>

            <div class="col-4 form-group">
              <label>部件、螺栓力矩、防松标记</label>
              <select class="form-control" v-model="journal.p_bjaz">
                <option value="1">部件安装良好，螺栓力矩已紧固，放松标记已涂打</option>
                <option value="0">否</option>
              </select>
            </div>
            <div class="col-4 form-group">
              <label>作业者</label>
              <input type="text" class="form-control" v-model="journal.operator">
            </div>
            <div class="col-4 form-group">
              <label>检修工长</label>
              <input type="text" class="form-control" v-model="journal.leader">
            </div>

            <div class="clearfix"></div>

            <div class="col-4 form-group">
              <label>部件功能试验</label>
              <select class="form-control" v-model="journal.p_bjgnsy">
                <option value="1">正常</option>
                <option value="0">异常</option>
              </select>
            </div>
            <div class="col-4 form-group">
              <label>质检员</label>
              <input type="text" class="form-control" v-model="journal.qc">
            </div>
            <div class="col-4 form-group">
              <label>值班干部</label>
              <input type="text" class="form-control" v-model="journal.duty_officer">
            </div>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-primary" v-on:click="save">
              <i class="fa fa-check-square-o"></i>
              确认
            </button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="./lib/axios/dist/axios.min.js"></script>
  <script src="./lib/vue/dist/vue.js"></script>
  <script src="./lib/moment/min/moment.min.js"></script>
  <script src="./lib/jquery/dist/jquery.slim.min.js"></script>
  <script src="./lib/popper.js/dist/umd/popper.min.js"></script>
  <script src="./lib/bootstrap/dist/js/bootstrap.min.js"></script>

  <script src="./assets/js/journal.02-save.02.js"></script>
</body>

</html>