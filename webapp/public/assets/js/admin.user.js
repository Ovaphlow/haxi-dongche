!function(n){var a={};function e(r){if(a[r])return a[r].exports;var t=a[r]={i:r,l:!1,exports:{}};return n[r].call(t.exports,t,t.exports,e),t.l=!0,t.exports}e.m=n,e.c=a,e.d=function(n,a,r){e.o(n,a)||Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:r})},e.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},e.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(a,"a",a),a},e.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},e.p="",e(e.s=40)}({14:function(n,a){n.exports='<nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">\r\n  <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="index.html">账项管理系统</a>\r\n  <ul class="navbar-nav px-3">\r\n    <li class="nav-item text-nowrap">\r\n      <a class="nav-link" href="login.html">\r\n        <i class="fa fa-sign-out"></i> 注销\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</nav>'},15:function(n,a){n.exports='<nav class="col-md-2 d-none d-md-block bg-dark sidebar">\r\n  <div class="sidebar-sticky">\r\n    <ul class="nav flex-column">\r\n      <li class="nav-item">\r\n        <a class="nav-link" href="index.html">\r\n          <i class="fa fa-fw fa-home"></i>\r\n          账项\r\n        </a>\r\n      </li>\r\n      <li class="nav-item">\r\n        <a class="nav-link" href="journal.01.html">\r\n          <i class="fa fa-file-o fa-fw"></i>&nbsp;01.检修车间禁动牌管理台账\r\n        </a>\r\n      </li>\r\n    </ul>\r\n\r\n    <h6 class="sidebar-heading d-flex align-items-center px-3 mt-4 mb-1 text-muted">\r\n      <i class="fa fa-cogs"></i>&nbsp;系统管理\r\n    </h6>\r\n    <ul class="nav flex-column mb-2">\r\n      <li class="nav-item">\r\n        <a class="nav-link" href="admin.dept-list.html">\r\n          <i class="fa fa-cubes fa-fw"></i> 部门\r\n        </a>\r\n      </li>\r\n      <li class="nav-item">\r\n        <a class="nav-link" href="admin.user-list.html">\r\n          <i class="fa fa-users fa-fw"></i> 用户\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</nav>'},28:function(n,a){n.exports='<div class="btn-group pull-right" role="group">\r\n  <a href="./admin.user-list.html" class="btn btn-light btn-sm">\r\n    <i class="fa fa-search"></i>\r\n    检索数据\r\n  </a>\r\n  <a href="./admin.user-save.html" class="btn btn-light btn-sm">\r\n    <i class="fa fa-plus"></i>\r\n    新增用户\r\n  </a>\r\n</div>'},40:function(n,a,e){"use strict";var r=i(e(14)),t=i(e(15)),s=i(e(28));function i(n){return n&&n.__esModule?n:{default:n}}document.getElementById("navbar").innerHTML=r.default,document.getElementById("sidebar").innerHTML=t.default,document.getElementById("toolbar").innerHTML=s.default;var l=new Vue({el:"#app",data:{user:{},deptList:[],auth:JSON.parse(sessionStorage.getItem("auth"))},methods:{remove:function(){if(!confirm("删除当前用户，确定或取消？"))return!1;axios({method:"DELETE",url:"./api/user/"+sessionStorage.getItem("user"),responseType:"json"}).then(function(n){alert(n.data.message),200===n.data.status&&(location.href="./admin.user-list.html")})},save:function(){if(!l.user.name||!l.user.username)return alert("请完整填写用户信息"),!1;axios({method:"PUT",url:"./api/user/"+sessionStorage.getItem("user"),data:{name:l.user.name,username:l.user.username,dept_id:l.user.dept_id,phone:l.user.phone,auth_admin:l.user.auth_admin,auth_01:l.user.auth_01,auth_p_jsy:l.user.auth_p_jsy,auth_p_zbsz:l.user.auth_p_zbsz,auth_p_dd:l.user.auth_p_dd},responseType:"json"}).then(function(n){200===n.data.status?(alert(n.data.message),location.href="./admin.user-list.html"):204===n.data.status?alert("用户名称冲突"):alert("保存失败。")})}},created:function(){if(!this.auth.auth_admin)return alert("当前用户没有该页面的权限。"),location.href="./journal.index.html",!1;axios({method:"GET",url:"./api/user/"+sessionStorage.getItem("user"),responseType:"json"}).then(function(n){l.user=n.data.content}),axios({method:"GET",url:"./api/dept/",responseType:"json"}).then(function(n){l.deptList=n.data.content})}})}});