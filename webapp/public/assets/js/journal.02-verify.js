!function(e){var n={};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,n,t){a.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},a.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},a.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(n,"a",n),n},a.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},a.p="",a(a.s=54)}({14:function(e,n){e.exports='<nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">\r\n  <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="index.html">账项管理系统</a>\r\n  <ul class="navbar-nav px-3">\r\n    <li class="nav-item text-nowrap">\r\n      <a class="nav-link" href="login.html">\r\n        <i class="fa fa-sign-out"></i> 注销\r\n      </a>\r\n    </li>\r\n  </ul>\r\n</nav>'},21:function(e,n){e.exports='<div class="btn-group pull-right" role="group">\r\n  <a href="./journal.02.html" class="btn btn-light btn-sm">\r\n    <i class="fa fa-search"></i>\r\n    检索数据\r\n  </a>\r\n  <a href="./journal.02-save.html" class="btn btn-light btn-sm">\r\n    <i class="fa fa-plus"></i>\r\n    新增申请\r\n  </a>\r\n  <a href="./journal.02-check.html" class="btn btn-light btn-sm">\r\n    <i class="fa fa-check-square-o"></i>\r\n    动车所审核\r\n  </a>\r\n  <a href="./journal.02-verify.html" class="btn btn-light btn-sm">\r\n    <i class="fa fa-archive"></i>\r\n    作业完成销记\r\n  </a>\r\n  <a href="./journal.02-stats.html" class="btn btn-light btn-sm">\r\n    <i class="fa fa-pie-chart"></i>\r\n    数据统计\r\n  </a>\r\n</div>'},22:function(e,n){e.exports='<nav class="col-md-2 d-none d-md-block bg-dark sidebar">\r\n  <div class="sidebar-sticky">\r\n    <ul class="nav flex-column">\r\n      <li class="nav-item">\r\n        <a class="nav-link" href="index.html">\r\n          <i class="fa fa-fw fa-home"></i>\r\n          单据\r\n        </a>\r\n      </li>\r\n\r\n      <li class="nav-item">\r\n        <a class="nav-link" href="journal.02.html">\r\n          <i class="fa fa-file-o fa-fw"></i>&nbsp;02.一体化作业申请单\r\n        </a>\r\n      </li>\r\n    </ul>\r\n\r\n    <h6 class="sidebar-heading d-flex align-items-center px-3 mt-4 mb-1 text-muted">\r\n      <i class="fa fa-cogs"></i>&nbsp;系统管理\r\n    </h6>\r\n    <ul class="nav flex-column mb-2">\r\n      <li class="nav-item">\r\n        <a class="nav-link" href="admin.dept-list.html">\r\n          <i class="fa fa-cubes fa-fw"></i> 部门\r\n        </a>\r\n      </li>\r\n      <li class="nav-item">\r\n        <a class="nav-link" href="admin.user-list.html">\r\n          <i class="fa fa-users fa-fw"></i> 用户\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</nav>'},30:function(e,n){e.exports='<div id="auth" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="authTitle" aria-hidden="true">\r\n  <div class="modal-dialog modal-sm" role="document">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <h5 id="authTitle" class="modal-title">用户鉴权</h5>\r\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close">\r\n          <span aria-hidden="true">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class="modal-body">\r\n        <div class="form-group">\r\n          <label>账号</label>\r\n          <input type="text" id="authAccount" class="form-control">\r\n        </div>\r\n        <div class="form-group">\r\n          <label>密码</label>\r\n          <input type="password" id="authPassword" class="form-control">\r\n        </div>\r\n      </div>\r\n      <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" v-on:click="submit">\r\n          <i class="fa fa-check-square-o"></i>\r\n          确认\r\n        </button>\r\n        <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>'},54:function(e,n,a){"use strict";var t=s(a(14)),r=s(a(22)),i=s(a(21)),o=s(a(30));function s(e){return e&&e.__esModule?e:{default:e}}document.getElementById("navbar").innerHTML=t.default,document.getElementById("sidebar").innerHTML=r.default,document.getElementById("toolbar").innerHTML=i.default,document.getElementById("authDialog").innerHTML=o.default;var l=JSON.parse(sessionStorage.getItem("auth")),d=new Vue({el:"#app",data:{journalList:[],journal:{},contentLeader:[],contentLeaderBz:[],contentLeaderQc:[],contentVerify:[],op_cat:"",op_id:0},methods:{detail:function(e){sessionStorage.setItem("journal02",e.target.getAttribute("data-id")),location.href="./journal.02-detail.html"},verifyLeader:function(e){d.op_cat="leader",d.op_id=e.target.getAttribute("data-id"),sessionStorage.setItem("verifyId",d.op_id),location.href="./journal.02-verify.leader.html"},verifyLeaderBz:function(e){sessionStorage.setItem("journal02",e.target.getAttribute("data-id")),location.href="./journal.02-verify.p_bz.html"},verifyLeaderQc:function(e){sessionStorage.setItem("journal02",e.target.getAttribute("data-id")),location.href="./journal.02-verify.qc.html"},verify:function(e){d.op_cat="verify",d.op_id=e.target.getAttribute("data-id"),sessionStorage.setItem("verifyId",d.op_id),location.href="./journal.02-verify.verify.html"},submit:function(){axios({method:"POST",url:"./api/user/login",data:{account:document.getElementById("authAccount").value,password:md5(document.getElementById("authPassword").value)},responseType:"json"}).then(function(e){if(1!==e.data.content.length)return alert("账号或密码错误，用户鉴权失败。"),!1;"leader"===d.op_cat?(sessionStorage.setItem("verifyId",d.op_id),location.href="./journal.02-verify.leader.html"):"leaderBz"===d.op_cat?axios({method:"PUT",url:"./api/journal02/verify/leader/bz/"+d.op_id,data:{},responseType:"json"}).then(function(e){if(200!==e.data.status)return alert(e.data.message),!1;location.reload(!0)}):"leaderQc"===d.op_cat?axios({method:"PUT",url:"./api/journal02/verify/leader/qc/"+d.op_id,data:{},responseType:"json"}).then(function(e){if(200!==e.data.status)return alert(e.data.message),!1;location.reload(!0)}):"verify"===d.op_cat&&(sessionStorage.setItem("verifyId",d.op_id),location.href="./journal.02-verify.verify.html")})}},created:function(){axios({method:"GET",url:"./api/journal02/verify/leader/"+l.id+"?timestamp="+(new Date).getTime(),responseType:"json"}).then(function(e){d.contentLeader=e.data.content}),axios({method:"GET",url:"./api/journal02/verify/leader/bz/"+l.dept+"?timestamp="+(new Date).getTime(),responseType:"json"}).then(function(e){d.contentLeaderBz=e.data.content}),"质检"===l.dept&&axios({method:"GET",url:"./api/journal02/verify/leader/qc/"+l.name+"?timestamp="+(new Date).getTime(),responseTupe:"json"}).then(function(e){d.contentLeaderQc=e.data.content}),l.auth_p_dd&&axios({method:"GET",url:"./api/journal02/verify/?timestamp="+(new Date).getTime(),responseType:"json"}).then(function(e){d.contentVerify=e.data.content})}})}});